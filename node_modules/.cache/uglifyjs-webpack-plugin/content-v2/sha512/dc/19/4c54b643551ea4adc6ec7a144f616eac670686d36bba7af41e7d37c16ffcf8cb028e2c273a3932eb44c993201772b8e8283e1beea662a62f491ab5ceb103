{"map":"{\"version\":3,\"sources\":[\"/Users/haradamakiko/git/bible/cesium-react/example/src/components/Earth/index.tsx\"],\"names\":[\"React\",\"__importStar\",\"__webpack_require__\",\"cesium_1\",\"cesium_react_1\",\"Pin_1\",\"Balloon_1\",\"__importDefault\",\"Earth\",\"_super\",\"props\",\"_this\",\"call\",\"this\",\"cameraComponent\",\"createElement\",\"CameraFlyTo\",\"destination\",\"Cartesian3\",\"fromDegrees\",\"orientation\",\"heading\",\"Math\",\"toRadians\",\"pitch\",\"duration\",\"viewerOnMount\",\"v\",\"viewer\",\"requestRenderMode\",\"maximumRenderTimeChange\",\"Infinity\",\"scene\",\"globe\",\"depthTestAgainstTerrain\",\"skyAtmosphere\",\"saturationShift\",\"mouseEvent\",\"e\",\"picked\",\"pick\",\"endPosition\",\"id\",\"primitive\",\"Entity\",\"did_1\",\"getIDFromEntity\",\"index\",\"data\",\"findIndex\",\"d\",\"state\",\"targetData\",\"pos\",\"SceneTransforms\",\"wgs84ToWindowCoordinates\",\"position\",\"getValue\",\"setState\",\"targetX\",\"x\",\"targetY\",\"y\",\"inspectCamera\",\"cam\",\"camera\",\"console\",\"log\",\"toDegrees\",\"positionCartographic\",\"latitude\",\"longitude\",\"height\",\"roll\",\"__extends\",\"prototype\",\"render\",\"Viewer\",\"full\",\"animation\",\"timeline\",\"homeButton\",\"onMount\",\"baseLayerPicker\",\"ScreenSpaceEventHandler\",\"useDefault\",\"ScreenSpaceEvent\",\"type\",\"ScreenSpaceEventType\",\"LEFT_CLICK\",\"LEFT_DOUBLE_CLICK\",\"action\",\"MOUSE_MOVE\",\"map\",\"i\",\"default\",\"key\",\"getEntityID\",\"name\",\"regionName_jp\",\"lat\",\"lon\",\"iconColor\",\"iconShape\",\"IconShape\",\"Round\",\"iconImage\",\"image\",\"className\",\"aaa\",\"replace\",\"PureComponent\"],\"mappings\":\"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\",\"sourcesContent\":[\"import * as React from \\\"react\\\";\\nimport {\\n  Cartesian3,\\n  Entity,\\n  Math as CesiumMath,\\n  SceneTransforms,\\n  ScreenSpaceEventType,\\n} from \\\"cesium\\\";\\nimport { CameraFlyTo, Viewer, ScreenSpaceEventHandler, ScreenSpaceEvent } from \\\"cesium-react\\\";\\nimport Pin, { IconShape } from \\\"../Pin\\\";\\nimport Balloon from \\\"../Balloon\\\";\\n// import JapanGSITerrainProvider from \\\"./JapanGSITerrainProvider\\\";\\n\\ninterface Props {\\n  data: Data[];\\n}\\n\\ninterface State {\\n  targetData: number;\\n  targetX: number;\\n  targetY: number;\\n}\\n\\nexport default class Earth extends React.PureComponent<Props, State> {\\n  private viewer: any;\\n\\n  private cameraComponent = (\\n    <CameraFlyTo \\n      destination={Cartesian3.fromDegrees(34.33139999538116,34.24709441079017, 1118900)}\\n      orientation={{\\n        heading: CesiumMath.toRadians(0),\\n        pitch: CesiumMath.toRadians(-90),\\n      }}\\n      duration={0}\\n    />\\n  );\\n  constructor(props: Props) {\\n    super(props);\\n    this.state = {\\n      targetData: -1,\\n      targetX: 0,\\n      targetY: 0,\\n    };\\n  }\\n  \\n  render() {\\n    \\n    return (\\n      <Viewer\\n        full\\n        animation={false}\\n        timeline={true}\\n        homeButton={false}\\n        onMount={this.viewerOnMount}\\n        baseLayerPicker={false}>\\n        <ScreenSpaceEventHandler useDefault>\\n          <ScreenSpaceEvent type={ScreenSpaceEventType.LEFT_CLICK} />\\n          <ScreenSpaceEvent type={ScreenSpaceEventType.LEFT_DOUBLE_CLICK} />\\n          <ScreenSpaceEvent action={this.mouseEvent} type={ScreenSpaceEventType.MOUSE_MOVE} />\\n        </ScreenSpaceEventHandler>\\n        {this.cameraComponent}\\n        {this.props.data.map((d, i) => {\\n\\n          return (\\n            <Pin\\n              key={i}\\n              id={this.getEntityID(d.id)}\\n              name={d.regionName_jp}\\n              lat={d.lat}\\n              lon={d.lon}\\n              iconColor={\\\"#fff\\\"}\\n              iconShape={IconShape.Round}\\n              iconImage={d.image}\\n            />\\n          );\\n        })}\\n        <div id=\\\"month\\\" className={'balloon'>aaa</div>\\n        {this.state.targetData >= 0 && (\\n          <Balloon\\n            data={this.props.data[this.state.targetData]}\\n            x={this.state.targetX}\\n            y={this.state.targetY}\\n          />\\n        )}\\n      </Viewer>\\n    );\\n  }\\n\\n  private getEntityID(id: string) {\\n    return `pin_${id}`;\\n  }\\n\\n  private getIDFromEntity(id: string) {\\n    return id.replace(/^pin_/, \\\"\\\");\\n  }\\n\\n  private viewerOnMount = (v: any) => {\\n    this.viewer = v;\\n    v.requestRenderMode = true;\\n    v.maximumRenderTimeChange = Infinity;\\n    v.scene.globe.depthTestAgainstTerrain = true;\\n    v.scene.skyAtmosphere.saturationShift = 0.1;\\n  };\\n\\n  private mouseEvent = (e: any) => {\\n    const picked = this.viewer.scene.pick(e.endPosition);\\n    const id = picked ? picked.id || picked.primitive.id : null;\\n    if (picked && id instanceof Entity) {\\n      const did = this.getIDFromEntity(id.id);\\n      const index = this.props.data.findIndex(d => d.id === did);\\n      if (this.state.targetData === index) {\\n        return;\\n      }\\n      const pos = SceneTransforms.wgs84ToWindowCoordinates(\\n        this.viewer.scene,\\n        id.position.getValue(0),\\n      );\\n      this.setState({\\n        targetData: index,\\n        targetX: pos.x,\\n        targetY: pos.y,\\n      });\\n      return;\\n    }\\n    this.setState({\\n      targetData: -1,\\n    });\\n  };\\n\\n  private inspectCamera = () => {\\n    const cam = this.viewer.scene.camera;\\n    console.log(\\\"lat\\\", CesiumMath.toDegrees(cam.positionCartographic.latitude));\\n    console.log(\\\"lon\\\", CesiumMath.toDegrees(cam.positionCartographic.longitude));\\n    console.log(\\\"height\\\", cam.positionCartographic.height);\\n    console.log(\\\"heading (deg)\\\", CesiumMath.toDegrees(cam.heading));\\n    console.log(\\\"pitch (deg)\\\", CesiumMath.toDegrees(cam.pitch));\\n    console.log(\\\"roll (deg)\\\", CesiumMath.toDegrees(cam.roll));\\n  };\\n\\n\\n}\\n\"]}","code":"webpackHotUpdate(0,{49:function(e,t,a){\"use strict\";(function(e){!function(){var t=a(2).enterModule;t&&t(e)}();var r=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function r(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(r.prototype=a.prototype,new r)}}(),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(a(3)),s=a(1),c=a(21),l=n(a(53)),p=i(a(54)),u=function(e){function t(t){var a=e.call(this,t)||this;return a.cameraComponent=o.createElement(c.CameraFlyTo,{destination:s.Cartesian3.fromDegrees(34.33139999538116,34.24709441079017,1118900),orientation:{heading:s.Math.toRadians(0),pitch:s.Math.toRadians(-90)},duration:0}),a.viewerOnMount=function(e){a.viewer=e,e.requestRenderMode=!0,e.maximumRenderTimeChange=1/0,e.scene.globe.depthTestAgainstTerrain=!0,e.scene.skyAtmosphere.saturationShift=.1},a.mouseEvent=function(e){var t=a.viewer.scene.pick(e.endPosition),r=t?t.id||t.primitive.id:null;if(t&&r instanceof s.Entity){var n=a.getIDFromEntity(r.id),i=a.props.data.findIndex(function(e){return e.id===n});if(a.state.targetData===i)return;var o=s.SceneTransforms.wgs84ToWindowCoordinates(a.viewer.scene,r.position.getValue(0));a.setState({targetData:i,targetX:o.x,targetY:o.y})}else a.setState({targetData:-1})},a.inspectCamera=function(){var e=a.viewer.scene.camera;console.log(\"lat\",s.Math.toDegrees(e.positionCartographic.latitude)),console.log(\"lon\",s.Math.toDegrees(e.positionCartographic.longitude)),console.log(\"height\",e.positionCartographic.height),console.log(\"heading (deg)\",s.Math.toDegrees(e.heading)),console.log(\"pitch (deg)\",s.Math.toDegrees(e.pitch)),console.log(\"roll (deg)\",s.Math.toDegrees(e.roll))},a.state={targetData:-1,targetX:0,targetY:0},a}return r(t,e),t.prototype.render=function(){var e=this;return o.createElement(c.Viewer,{full:!0,animation:!1,timeline:!0,homeButton:!1,onMount:this.viewerOnMount,baseLayerPicker:!1},o.createElement(c.ScreenSpaceEventHandler,{useDefault:!0},o.createElement(c.ScreenSpaceEvent,{type:s.ScreenSpaceEventType.LEFT_CLICK}),o.createElement(c.ScreenSpaceEvent,{type:s.ScreenSpaceEventType.LEFT_DOUBLE_CLICK}),o.createElement(c.ScreenSpaceEvent,{action:this.mouseEvent,type:s.ScreenSpaceEventType.MOUSE_MOVE})),this.cameraComponent,this.props.data.map(function(t,a){return o.createElement(l.default,{key:a,id:e.getEntityID(t.id),name:t.regionName_jp,lat:t.lat,lon:t.lon,iconColor:\"#fff\",iconShape:l.IconShape.Round,iconImage:t.image})}),o.createElement(\"div\",{id:\"month\",className:\"balloon\">aaa}),\"div>\",this.state.targetData>=0&&o.createElement(p.default,{data:this.props.data[this.state.targetData],x:this.state.targetX,y:this.state.targetY}))},t.prototype.getEntityID=function(e){return\"pin_\"+e},t.prototype.getIDFromEntity=function(e){return e.replace(/^pin_/,\"\")},t}(o.PureComponent);t.default=u,function(){var t=a(2).default,s=a(2).leaveModule;t&&(t.register(r,\"__extends\",\"/Users/haradamakiko/git/bible/cesium-react/example/src/components/Earth/index.tsx\"),t.register(n,\"__importStar\",\"/Users/haradamakiko/git/bible/cesium-react/example/src/components/Earth/index.tsx\"),t.register(i,\"__importDefault\",\"/Users/haradamakiko/git/bible/cesium-react/example/src/components/Earth/index.tsx\"),t.register(o,\"React\",\"/Users/haradamakiko/git/bible/cesium-react/example/src/components/Earth/index.tsx\"),t.register(l,\"Pin_1\",\"/Users/haradamakiko/git/bible/cesium-react/example/src/components/Earth/index.tsx\"),t.register(p,\"Balloon_1\",\"/Users/haradamakiko/git/bible/cesium-react/example/src/components/Earth/index.tsx\"),t.register(u,\"Earth\",\"/Users/haradamakiko/git/bible/cesium-react/example/src/components/Earth/index.tsx\"),s(e))}()}).call(this,a(4)(e))}});","extractedComments":[]}